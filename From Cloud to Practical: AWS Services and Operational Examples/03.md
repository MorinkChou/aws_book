# 運算服務

EC2: 彈性雲端運算
Amazon EC2（Elastic Compute Cloud）是 AWS 提供的彈性虛擬伺服器服務，它允許您在雲端中運行應用程式。以下是關於 EC2 的一些重要資訊：

1. 彈性與擴展性：

* EC2 允許您按需租用虛擬伺服器，根據您的需求彈性地擴展或縮減伺服器的數量。
* 您可以選擇不同類型的 EC2 實例（例如通用用途、計算最佳化、記憶體最佳化等），以滿足不同應用程式的需求。
2. 多樣化的作業系統與軟體支援：

* EC2 支援多種作業系統，包括 Amazon Linux、Ubuntu、Windows Server 等，您可以根據需要選擇最適合您應用程式的作業系統。
* 您可以在 EC2 實例上運行各種軟體和應用程式，包括 Web 伺服器、資料庫、應用程式伺服器等。
3. 可配置性：

* 您可以配置 EC2 實例的各種參數，包括實例類型、作業系統、存儲設定、網路設定等，以滿足您的具體需求。
* EC2 還提供了自定義映像（AMI）功能，允許您建立和管理自己的虛擬機映像，以便快速部署新的 EC2 實例。
4. 安全性與監控：

* EC2 提供了多層次的安全功能，包括虛擬私有雲（VPC）、安全群組、密鑰對等，以確保您的應用程式和資料的安全性。
* 您可以使用 Amazon CloudWatch 監控 EC2 實例的性能和狀態，並根據需要自動調整 EC2 實例的容量。
5. 彈性 IP：

* EC2 還提供彈性 IP 地址功能，允許您靈活地管理伺服器的 IP 地址，並將它們映射到您的 EC2 實例上。

Amazon EC2 是建置和運行應用程式的核心 AWS 服務之一，它提供了靈活、可靠且高效的虛擬伺服器解決方案，讓您能夠快速且成本效益地部署應用程式。無論是小型網站還是大型企業應用程式，EC2 都能滿足您的需求，並提供您所需的計算資源。


當您在 AWS 控制台上工作時，設定和管理 EC2 實例是一個常見且重要的任務。以下是一些在 AWS 上設定和管理 EC2 實例的基本步驟：

1. 啟動 EC2 實例：

* 在 AWS 控制台中，導航到 EC2 服務。
* 點擊「Launch Instance」按鈕來啟動新的 EC2 實例。
* 選擇您想要的 AMI（Amazon Machine Image），這是您實例的基礎映像。您可以選擇 AWS 提供的預設 AMI，或者使用您自己的自定義 AMI。
* 選擇您想要的實例類型和配置。每種實例類型都具有不同的 CPU、內存和網路性能。
* 配置存儲選項。您可以選擇使用 Amazon EBS（Elastic Block Store）或實例存儲來存儲您的資料。
* 配置安全群組。安全群組是一種虛擬防火牆，用於控制訪問您的 EC2 實例。您可以設定入站和出站規則來管理流量。
* 檢閱您的設定，然後點擊「Launch」來啟動您的 EC2 實例。
2. 連接到 EC2 實例：

* 在 EC2 控制台中，找到您剛剛啟動的實例。
* 在實例列表中選擇您的實例，然後點擊「Connect」來查看連接指南。
* 根據您的作業系統和選擇的連接方式（例如 SSH 或 RDP），按照指南連接到您的 EC2 實例。
3. 管理 EC2 實例：

* 在 EC2 控制台中，您可以執行各種操作來管理您的 EC2 實例。這包括啟動、停止、重新啟動和刪除實例，以及設定自動擴展和負載平衡等功能。
您還可以使用 CloudWatch 監控 EC2 實例的性能和狀態，並設定警報以通知您重要的事件。
4. 定義自動化任務：

* 您可以使用 AWS Lambda、AWS Batch 等服務來執行自動化任務，例如自動備份 EC2 實例、自動調整 EC2 實例容量等。
5. 終止 EC2 實例：

* 當您不再需要某個 EC2 實例時，請確保及時終止它以節省成本。在 EC2 控制台中，選擇您要終止的實例，然後點擊「Actions」>「Instance State」>「Terminate」。

這些是設定和管理 AWS EC2 實例的基本步驟。通過這些步驟，您可以輕鬆地啟動、管理和終止您的 EC2 實例，以滿足您的應用程式需求並最大程度地利用 AWS 的彈性和功能。

隨著您繼續探索 AWS，您將發現 EC2 提供了更多高級功能和選項，以滿足更複雜的需求，例如負載平衡、自動擴展、容器化等。

-----

### Lambda: 事件驅動的無伺服器運算
AWS Lambda 是一項事件驅動的無伺服器運算服務，讓您無需管理伺服器即可運行程式碼。以下是 Lambda 的一些重要特點：

1. 無伺服器架構：

* Lambda 是一個無伺服器服務，它完全管理伺服器的基礎設施。您只需上傳您的程式碼，Lambda 將會自動處理其運行和擴展。
* 這使得 Lambda 非常適合處理短暫、輕量級的工作負載，而不必擔心伺服器管理和配置。
2. 事件驅動：

* Lambda 是事件驅動的，它可以在收到特定事件時執行您的程式碼。這些事件可以來自於 AWS 服務、外部系統或自定義應用程式。
* Lambda 支持許多事件來源，包括 S3 儲存桶上的對象創建、DynamoDB 表的資料更改、SNS 主題的新消息等。
3. 支援多種程式語言：

* Lambda 支持多種程式語言，包括 Node.js、Python、Java、Go、Ruby 和 .NET 等。您可以使用您喜歡的程式語言來編寫 Lambda 函式。
4. 彈性和可擴展：

* Lambda 根據您的需求自動擴展，無需您手動配置或管理伺服器。它可以根據輸入事件的數量和頻率自動調整運算資源。
5. 價格模型：

* Lambda 的價格是按照每個執行次數和執行時間計費的。您只需支付實際使用的資源，而不必支付空閒伺服器的成本。
6. 整合 AWS 生態系統：

* Lambda 能夠輕鬆地與其他 AWS 服務集成，使您可以構建強大且高度自動化的應用程式。
* 您可以使用 AWS 控制台或 AWS SDK 將 Lambda 函式與 S3、DynamoDB、SNS、API Gateway 等服務進行連接。

AWS Lambda 提供了一種靈活且高效的方式來執行程式碼，特別是對於處理事件驅動的工作負載。它讓開發人員可以專注於編寫程式碼，而無需擔心基礎設施的管理和運維。

在使用 Lambda 時，請考慮您的應用程式的特性和需求，以確保 Lambda 是最合適的運算解決方案。通常，Lambda 非常適合處理短暫、高度並行的任務，以及需要與其他 AWS 服務集成的工作負載。


#### 操作實例與步驟

在使用 AWS Lambda 之前，您需要設置一些前置條件，包括建立 Lambda 函式、設定觸發器以及設定 IAM 角色。以下是一個基本的操作實例和步驟：

1. 建立 Lambda 函式：

* 登錄 AWS 控制台，導航至 Lambda 服務。
* 點擊「Create function」按鈕。
* 選擇您的函式運行時（例如 Node.js、Python、Java 等）。
* 為您的函式命名並選擇您的角色。Lambda 需要一個 IAM 角色來執行您的函式，您可以選擇現有的角色或創建一個新的。
* 編寫您的函式代碼，或者上傳您的程式包。
* 點擊「Deploy」來建立您的 Lambda 函式。
2. 設定觸發器：

* 選擇您的 Lambda 函式，然後在觸發器選項中新增觸發器。
* 選擇觸發器的類型。這可以是 S3 儲存桶、DynamoDB 表、API Gateway 等 AWS 服務，或者是外部事件來源，如 SNS 主題或 CloudWatch 事件。
* 根據您的觸發器類型，配置相應的觸發器設定。例如，如果您選擇 S3 儲存桶作為觸發器，您需要指定儲存桶名稱和事件類型（例如對象創建或對象刪除）。
3. 測試 Lambda 函式：

* 在 Lambda 控制台中，您可以使用內置的測試功能來測試您的 Lambda 函式。您可以模擬事件並查看函式的輸出。
* 您也可以使用外部事件來測試 Lambda 函式。例如，如果您的觸發器是 S3 儲存桶，您可以手動上傳對象並觀察 Lambda 函式的反應。
4. 監控與除錯：

* 使用 CloudWatch 監控 Lambda 函式的運行狀態和性能指標。您可以檢視日誌、指標和警報，以及追蹤函式的執行時間、內存使用情況等。
* 如果 Lambda 函式出現錯誤，您可以查看 CloudWatch 日誌以進行除錯。Lambda 還提供了相關的錯誤訊息和堆棧跟蹤，以幫助您找出問題所在。
5. 管理 Lambda 函式：

* 在 Lambda 控制台中，您可以管理您的 Lambda 函式，包括編輯函式代碼、更新配置、設置觸發器、監控運行狀態等。
* 您還可以使用 AWS CLI 或 AWS SDK 來自動化管理 Lambda 函式的操作，並集成到您的 CI/CD 流程中。


以上是使用 AWS Lambda 的基本操作實例和步驟。Lambda 提供了一個靈活且強大的方式來執行程式碼，並讓您可以輕鬆地處理各種事件驅動的工作負載，而無需管理伺服器。

-----

### ECS/EKS: 容器化運算
ECS（Elastic Container Service）和 EKS（Elastic Kubernetes Service）是 AWS 提供的容器化運算服務，它們使您能夠在雲端中運行和管理容器化應用程式。以下是有關 ECS 和 EKS 的一些重要資訊：

1. 容器化運算：

* 容器化技術（例如 Docker）將應用程式及其相關依賴項打包到容器中，從而實現應用程式在不同環境中的一致運行。
* ECS 和 EKS 提供了基於容器的運算平台，讓您可以方便地在 AWS 上運行和管理容器化應用程式。
2. ECS（Elastic Container Service）：

* ECS 是一個高度可擴展的容器化運算服務，它允許您在 AWS 上運行和管理 Docker 容器。
* 您可以使用 ECS 部署、管理和擴展容器化應用程式，並與其他 AWS 服務集成，如 Elastic Load Balancing、Auto Scaling、CloudWatch 等。
3. EKS（Elastic Kubernetes Service）：

* EKS 是一個完全托管的 Kubernetes 服務，提供了 Kubernetes 集群的彈性和可擴展性，同時保持了 Kubernetes 的彈性和功能。
* 使用 EKS，您可以在 AWS 上運行 Kubernetes 集群，並使用 Kubernetes 原生工具和 API 來部署、管理和擴展容器化應用程式。
4. 自動化和彈性：

* ECS 和 EKS 提供了自動化和彈性的容器化運算解決方案，它們會自動管理容器的部署、調度和擴展，並根據需要自動調整容器的數量和資源。
5. 安全性和監控：

* ECS 和 EKS 提供了許多安全功能，包括 IAM 權限控制、網路安全組、VPC 網路配置等，以確保您的容器化應用程式的安全性。
* 您可以使用 CloudWatch 和其他 AWS 服務來監控和管理 ECS 和 EKS 中的容器，以獲取性能指標、日誌和警報。

ECS 和 EKS 為開發人員和運營團隊提供了強大且靈活的容器化運算平台，使他們能夠輕鬆地在 AWS 上部署、運行和管理容器化應用程式。無論您是正在尋找一個簡單的容器化解決方案（ECS），還是需要更複雜的容器管理平台（EKS），AWS 都提供了適合您需求的選擇。

接下來，讓我們深入研究如何使用 ECS 和 EKS，在 AWS 上部署、管理和擴展容器化應用程式。

#### ECS/EKS: 容器化運算 操作步驟與範例
在使用 ECS（Elastic Container Service）或 EKS（Elastic Kubernetes Service）時，您將會進行以下操作步驟：

1. 準備容器映像：

* 在開始之前，您需要準備一個或多個容器映像，這些映像將作為您的應用程式的基礎。
* 如果您還沒有 Docker 映像，您可以編寫 Dockerfile 並使用 Docker 建構這些映像，或者使用 Docker Hub 或其他容器映像存儲庫中的現有映像。
2. 設置 ECS/EKS 環境：

* 導航至 AWS 控制台並進入 ECS 或 EKS 服務。
* 根據您的需求設置集群、節點、服務等相關資源。對於 ECS，您需要創建一個集群；對於 EKS，您需要創建一個 Kubernetes 集群。
3. 定義 Task Definition（ECS）或 Pod Manifest（Kubernetes）：

* 在 ECS 中，您需要定義 Task Definition，該定義描述了您要運行的容器的配置。這包括容器映像、埠映射、環境變數等。
* 在 Kubernetes 中，您需要創建 Pod Manifest（通常是 YAML 檔案），描述您要運行的容器的配置。這包括容器映像、資源限制、環境變數等。
4. 部署應用程式：

* 在 ECS 中，您可以將 Task Definition 部署為服務，該服務將負責運行和管理您的容器實例。
* 在 Kubernetes 中，您可以使用 kubectl apply 命令來部署您的 Pod Manifest。Kubernetes 將會創建和管理相應的 Pod 和容器。
5. 監控與管理：

* 使用 AWS CloudWatch 或 Kubernetes 相關工具來監控您的容器化應用程式的運行狀態和性能。
* 如果您使用的是 ECS，您可以在 ECS 控制台中管理您的集群、服務、任務等資源。如果您使用的是 EKS，您可以使用 Kubernetes 工具和指令列來管理您的集群和應用程式。

以下是一個在 ECS 上部署容器化應用程式的簡單範例：

1. 創建 Task Definition，指定容器映像、埠映射等配置。
2. 創建 ECS 服務，將 Task Definition 部署為服務。
3. 監視服務運行狀態，並根據需要調整服務配置。
4. 如有必要，更新 Task Definition，例如更改容器映像版本。
5. 根據您的需求，擴展或縮減 ECS 集群的規模。
對於 Kubernetes，您可以使用類似的步驟來部署您的應用程式，但使用的工具和指令可能會略有不同。

這些是在 ECS 或 EKS 上部署和管理容器化應用程式的基本操作步驟和範例。通過遵循這些步驟，您可以輕鬆地在 AWS 上運行和管理容器化應用程式，從而實現高效的應用程式部署和運營。

-----

### Batch: 批次處理作業
AWS Batch 是一項全受管的服務，可讓您在 AWS 中執行大規模的批次處理作業。以下是一些與 AWS Batch 相關的重要資訊：

1. 批次處理作業：

* 批次處理作業通常涉及處理大量的計算或分析工作負載，例如批次轉換資料、模擬、科學計算等。
* AWS Batch 為這些作業提供了一個彈性、可擴展且成本效益的解決方案，使您能夠輕鬆地在 AWS 上執行這些作業，而無需擔心基礎設施的管理。
2. 作業定義：

* 在 AWS Batch 中，您需要定義作業，該作業描述了您要執行的計算工作負載。
* 作業定義包括容器映像、資源配置、環境變數等信息，以及作業執行的方式（例如單一作業或陣列作業）。
3. 工作流程：

* 使用 AWS Batch，您可以將作業提交給作業隊列，並指定作業執行的優先級和其他配置選項。
* AWS Batch 將會自動調度和管理作業執行，並根據您的需求進行擴展。
4. 彈性和擴展性：

* AWS Batch 提供了彈性和擴展性的計算資源，以滿足您的作業需求。您可以根據需要配置 EC2 實例類型和數量，以及容器映像的執行環境。
* AWS Batch 還與其他 AWS 服務集成，例如 Amazon EC2、Amazon S3、Amazon DynamoDB 等，使您可以輕鬆地處理各種作業負載。
5. 監控和日誌：

* AWS Batch 提供了監控和日誌功能，您可以使用 CloudWatch 監控作業的執行狀態和性能指標，並查看作業的日誌記錄。
* 您還可以設置警報以通知您關於作業執行的重要事件或問題。

AWS Batch 是一個強大且靈活的服務，可以幫助您輕鬆地在 AWS 上執行大規模的批次處理作業。無論是處理大量的資料轉換作業還是科學計算工作負載，AWS Batch 都能滿足您的需求，並提供高效的計算資源管理和彈性的執行環境。

#### Batch: 批次處理作業 操作步驟與實例
使用 AWS Batch 執行批次處理作業涉及以下操作步驟：

1. 建立作業定義：

* 在 AWS Batch 中，首先需要定義您的作業。作業定義包括容器映像、資源配置和其他相關設定。
* 在 AWS 控制台中，導航至 AWS Batch 服務並創建作業定義，或使用 AWS CLI 或 SDK 進行創建。
2. 建立作業隊列：

* 在作業隊列中排隊作業，並指定優先順序、作業數量限制等參數。
* 在 AWS Batch 控制台中，創建作業隊列並配置作業隊列的相關設定。
3. 提交作業：

* 使用作業定義和作業隊列，提交作業以供執行。
* 您可以通過 AWS Batch 控制台、AWS CLI 或 SDK 來提交作業。
4. 監控作業：

* 監控作業的執行狀態和性能，以確保它們按照預期進行。
* 使用 CloudWatch 監控 AWS Batch 中的作業，並查看日誌和指標以獲取作業的相關信息。
5. 管理作業：

* 根據需要管理作業，包括取消作業、重新提交作業、調整作業隊列設置等。
* 在 AWS Batch 控制台中，您可以輕鬆地管理您的作業，並進行必要的操作。

以下是一個示例操作步驟，展示如何使用 AWS Batch 執行批次處理作業：

1. 建立作業定義：

* 在 AWS Batch 控制台中，創建一個新的作業定義。
* 選擇您的容器映像、作業角色、資源需求等相關設定。
2. 建立作業隊列：

* 在作業隊列部分，創建一個新的作業隊列。
* 配置作業隊列的相關參數，如優先順序、最大作業數量等。
3. 提交作業：

* 使用您創建的作業定義和作業隊列，提交您的批次處理作業。
* 指定作業所需的參數和輸入數據，然後提交作業。
4. 監控作業：

* 監控您的作業，以確保它們按照預期進行。
* 使用 CloudWatch 監控 AWS Batch 中的作業，查看作業的執行狀態、日誌和性能指標。
5. 管理作業：

* 根據需要管理作業，例如取消作業、重新提交作業、調整作業隊列設置等。
* 在 AWS Batch 控制台中，您可以執行相應的操作來管理您的作業。